## 一、ES并发请求会出现的问题

ES作为检索引擎，肯定也是多线程，也会遇到和mysql或Java一样的并发请求问题，如：

两个用户购买商品，es就需要对库存进行修改，当同时请求时

A用户获取到100个库存，买了一个，库存修改为99。

B用户也获取100个库存，同时买了一个，库存还是99。

这样就会出现问题，应该为98的库存因为并发问题多了一件。这就是ES并发冲突导致数据不准确的问题。